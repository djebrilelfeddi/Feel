@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --glass-bg: rgba(255, 255, 255, 0.15);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  --glow-shadow: 0 0 30px rgba(255, 255, 255, 0.3), 0 0 60px rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 1);
  --text-secondary: rgba(255, 255, 255, 0.8);
  --transition-default: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  --backdrop-blur: blur(20px);
}

@layer base {
  * {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }

  body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  }

  #root {
    width: 100vw;
    height: 100vh;
  }

  /* Animations */
  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes float {
    0% {
      transform: translateY(20) rotate(0deg);
      opacity: 0;
    }
    10% {
      opacity: 0.2;
    }
    90% {
      opacity: 0.2;
    }
    100% {
      transform: translateY(-120vh) rotate(360deg);
      opacity: 0;
    }
  }
  .animate-fadeInUp {
    animation: fadeInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  }
}

.glass-effect {
  background: var(--glass-bg);
  backdrop-filter: var(--backdrop-blur);
  border: 1px solid var(--glass-border);
  box-shadow: var(--glass-shadow);
}

.glow-effect {
  box-shadow: var(--glow-shadow);
}

.hover-lift {
  transition: var(--transition-default);
}

.hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
}

/* Composants*/
@layer components {
  /*  BOUTONS */
  .btn-primary {
    @apply glass-effect hover-lift text-white py-3 px-6 rounded-xl transition-all duration-300 font-medium drop-shadow-md;
  }

  .btn-secondary {
    @apply glass-effect hover-lift text-red-300 hover:text-red-200 py-3 px-6 rounded-xl transition-all duration-300 font-medium drop-shadow-md hover:bg-red-500/20;
  }

  .btn-settings {
    @apply glass-effect text-white px-4 py-4 rounded-full hover-lift glow-effect transition-all duration-300 flex items-center gap-2 hover:scale-110;
  }

  .btn-submit {
    @apply absolute right-4 glass-effect text-white w-12 h-12 rounded-full flex items-center justify-center transition-all duration-500 hover-lift glow-effect;
  }

  .btn-close {
    @apply text-white/80 hover:text-white transition-all duration-300 hover:scale-110 rounded-full p-2 hover:bg-white/10;
  }

  /*  INPUTS  */
  .input-primary {
    @apply glass-effect text-white shadow-xl border border-white/10 outline-none rounded-2xl placeholder:text-white/70 bg-gradient-to-r from-black/40 to-black/20 backdrop-blur-md transition-all duration-300;
  }

  .input-normal {
    @apply w-full pr-16 py-4 pl-6 text-lg font-light drop-shadow-lg;
  }

  .input-analyzing {
    @apply w-0 h-0 opacity-0 p-0;
  }

  .input-focused {
    @apply ring-2 ring-purple-400/80 glow-effect scale-105 bg-black/40;
  }

  /*  CONTENEURS  */
  .container-glass {
    @apply glass-effect rounded-3xl p-8 shadow-2xl max-w-md w-full mx-4 transform transition-all duration-500 hover-lift;
  }

  .container-response {
    @apply w-full max-w-2xl glass-effect rounded-3xl p-8 mb-6 hover-lift animate-fadeInUp bg-black/100 backdrop-blur-md;
  }

  .container-popup {
    @apply fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 transition-all duration-500;
  }

  .container-popup-content {
    @apply glass-effect rounded-3xl p-8 shadow-2xl max-w-sm w-full mx-4 transform transition-all duration-500 hover-lift;
  }

  .container-history-entry {
    @apply bg-black/20 p-6 rounded-xl border border-white/10 hover-lift transition-all duration-300;
  }

  .container-history-grid {
    @apply grid grid-cols-1 md:grid-cols-2 gap-6;
  }

  .container-history-item {
    @apply bg-black/20 p-4 rounded-xl border border-white/10 text-sm drop-shadow-md;
  }

  /*  TEXTE  */
  .text-primary {
    @apply text-white leading-relaxed whitespace-pre-wrap text-lg font-light;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8), 0 1px 2px rgba(0, 0, 0, 0.9);
  }

  .text-secondary {
    @apply text-white/80 drop-shadow-md;
  }

  .text-title {
    @apply text-2xl font-bold text-white;
  }

  .container-history-text {
    @apply text-white drop-shadow-md leading-relaxed;
  }

  /*  LAYOUT  */
  .layout-centered {
    @apply flex flex-col items-center gap-8 justify-center min-h-screen overflow-hidden;
  }

  .layout-input-container {
    @apply relative flex items-center justify-center transition-all duration-500;
  }

  .layout-analyzing {
    @apply w-16 h-16 mx-auto;
  }

  .layout-normal {
    @apply w-full;
  }

  .layout-history {
    @apply flex-1 overflow-y-auto space-y-6 pr-2;
  }

  .layout-empty {
    @apply text-center py-12;
  }

  /* INDICATEURS  */
  .indicator-new {
    @apply absolute -top-1 -right-1 w-4 h-4 bg-yellow-400 rounded-full border-2 border-white shadow-lg animate-pulse;
  }

  /*  ETATS  */
  .state-disabled {
    @apply scale-90 opacity-50 cursor-not-allowed;
  }

  .state-enabled {
    @apply scale-100 opacity-100 hover:scale-110;
  }

  /*  ANIMATIONS  */
  .scale-hover {
    @apply hover:scale-105;
  }

  .transition-slow {
    transition: var(--transition-slow);
  }

  /* slider */
  .custom-range::-webkit-slider-thumb {
    appearance: none;
    height: 20px;
    width: 20px;
    border-radius: 50%;
    background: #ff6b6b;
    cursor: pointer;
    border: 2px solid #fff;
    box-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
  }

  .custom-range::-moz-range-thumb {
    height: 20px;
    width: 20px;
    border-radius: 50%;
    background: #ff6b6b;
    cursor: pointer;
    border: 2px solid #fff;
    box-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
  }
}